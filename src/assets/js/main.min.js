var themeApp={setNavbar:function(){"undefined"!=typeof fixed_navbar&&1==fixed_navbar&&($("#main-navbar").addClass("navbar-fixed-top"),$("body").addClass("has-fixed-navbar"))},formatDate:function(dt){var d=new Date(dt),month_name,month,date,year,formatted_dt;return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()]+" "+d.getDate()+", "+d.getFullYear()},recentPosts:function(data){var container=$(".recent-post"),recentPost;container.length&&"undefined"!=typeof recent_post_count&&api&&api.posts.browse({limit:recent_post_count,include:"tags,authors"}).then(posts=>{console.log(posts);var string="";if((recentPost=posts).length>0)for(i=0;i<recentPost.length;i++){var link=recentPost[i].url,title=recentPost[i].title,published_at=themeApp.formatDate(recentPost[i].published_at),image_link=recentPost[i].feature_image;if(null!==image_link)var image='<div class="post-thumb pull-left" style="background-image:url('+image_link+')"></div>',helper_class="have-image";else var image='<div class="post-thumb pull-left"><i class="fa fa-image"></i></div>',helper_class="";string+='<div class="recent-single-post clearfix '+helper_class+'"><a href="'+link+'" class="post-title">\t\t\t\t\t\t'+image+'\t\t\t\t\t\t<div class="post-info"><div class="post-title">'+title+'</div><div class="date"><i class="fa fa-calendar-o"></i>'+published_at+"</div></div>\t\t\t\t\t\t</a></div>"}container.append(string)}).catch(err=>{console.error(err)})},formatDate:function(dt){var d=new Date(dt),month_name,month,date,year,formatted_dt;return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()]+" "+d.getDate()+", "+d.getFullYear()},responsiveIframe:function(){$(".full-post").fitVids()},featuredMedia:function(){$(".full-post").length>0&&$(".full-post").each((function(){var thiseliment=$(this),media_wrapper,media_content_embeded=$(this).find("featured").find("iframe"),container=thiseliment.find(".featured-media");container.find(".image-container").hide(),media_content_embeded.length>0?(container.find(".image-container").remove(),container.addClass("has-iframe"),container.prepend(media_content_embeded)):(container.addClass("no-iframe"),thiseliment.find(".featured-media").find(".image-container").show())}))},commentCount:function(){var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src="//"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(s)},highlighter:function(){},facebook:function(){if($(".fb").length){var facebook_sdk_script="<div id=\"fb-root\"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4\";fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));<\/script>",fb_page='<div class="fb-page" data-href="'+facebook_page_url+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore">Facebook</div></div>';$("body").append(facebook_sdk_script),$(".fb").append(fb_page),$(".fb").fitVids()}},searchPopup:function(){if($("#search-open").on("click",(function(e){e.preventDefault(),$(".search-popup").addClass("visible"),$("#search-input").css("visibility","visible").focus()})),$(".close-button").on("click",(function(e){e.preventDefault(),$(".search-popup").removeClass("visible"),$("#search-input").css("visibility","hidden")})),$("#popup-outer").on("click",(function(e){"popup-outer"===e.target.id&&($(".search-popup").removeClass("visible"),$("#search-input").css("visibility","hidden"))})),"/search/"==window.location.pathname&&""!=window.location.search){var search=JSON.parse(sessionStorage.getItem("search"));$("#search-page-result ul").append($.map(search,(function(value,index){var image;return"<li><img src='"+(null==value.image?"/assets/images/ippon-bkr.png":value.image)+"' alt='' /><a href='"+value.link+"'>"+value.title+"</a></li>"})).join(" "))}},backToTop:function(){$(window).scroll((function(){$(this).scrollTop()>100?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()})),$("#back-to-top").on("click",(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},1e3),!1}))},init:function(){themeApp.setNavbar(),themeApp.recentPosts(),themeApp.facebook(),themeApp.featuredMedia(),themeApp.responsiveIframe(),themeApp.highlighter(),themeApp.searchPopup(),themeApp.backToTop()}};$(document).ready((function(){themeApp.init()}));