var themeApp={setNavbar:function(){"undefined"!=typeof fixed_navbar&&1==fixed_navbar&&($("#main-navbar").addClass("navbar-fixed-top"),$("body").addClass("has-fixed-navbar"))},latestSlider:function(){var a,b=$("#title-slider");if(b.length&&"undefined"!=typeof Latest_slider_post_count){var c="";$.get(ghost.url.api("posts",{include:"tags",limit:Latest_slider_post_count})).done(function(d){if(a=d.posts,a.length>0){for(i=0;i<a.length;i++){var e=a[i].title,f=a[i].url,g=a[i].tags,h="";for(j=0;j<g.length;j++){var k=g[j].name,l=g[j].slug;h+='<a class="tagged-in" href="/tag/'+l+'/">'+k+"</a>"}c+='<div class="item">'+h+'<a href="'+f+'" class="heading" title="'+e+'">'+e+"</a></div>"}b.append(c),b.owlCarousel({singleItem:!0,autoPlay:4e3,pagination:!1,slideSpeed:100,paginationSpeed:100,transitionStyle:"goDown"})}}).fail(function(a){console.log(a)}),$(".latest-prev").click(function(a){a.preventDefault(),b.trigger("owl.prev")}),$(".latest-next").click(function(a){a.preventDefault(),b.trigger("owl.next")})}},specialPostsSetOne:function(a){if($("#category-container").length&&"undefined"!=typeof special_tag_one&&"undefined"!=typeof tag_one_post_count){var b;special_tag_one=special_tag_one.toLowerCase(),$.get(ghost.url.api("posts",{filter:"tags:["+special_tag_one+"]",include:"tags",limit:tag_one_post_count})).done(function(a){b=a.posts;var c="";if(b.length>0){for(c='<div class="category-wrap" id="category-type-one"><h2 class="h4 category-name"><span>'+special_tag_one+'</span></h2><div class="row default-layout">',i=0;i<b.length;i++)if(i<tag_one_post_count){var d=b[i].title,e=b[i].url,f=b[i].image,g=b[i].tags,h=themeApp.formatDate(b[i].published_at),k=$(b[i].html).text().replace("<code>","&lt;code&gt;").replace("<","&lt;").replace(">","&gt;"),k=k.split(/\s+/).slice(0,50).join(" "),l="",m="";for(j=0;j<g.length;j++){var n=g[j].name,o=g[j].slug;m+='<a href="/tag/'+o+'/">'+n+"</a>"}l=null!==f?'<div class="featured-media"><a href="'+e+'" title="'+d+'"><div class="image-container" style="background-image: url('+f+');"></div></a><div class="tag-list">'+m+"</div></div>":'<div class="featured-media"><div class="tag-list">'+m+"</div></div>",c+='<article class="col-sm-6 post-wrap">'+l+'<h2 class="title h3"><a href="'+e+'">'+d+'</a></h2><div class="post-meta"><span class="date"><i class="fa fa-calendar-o"></i>&nbsp;'+h+'</span><span class="comment"><i class="fa fa-comment-o"></i><a href="'+e+'#disqus_thread">0 Comments</a></span></div><div class="post-entry">'+k+'</div><a class="permalink" href="'+e+'">Read More...</a></article>'}c+="</div></div>",$("#category-container").append(c),themeApp.commentCount()}}).fail(function(a){console.log(a)})}},specialPostsSetTwo:function(a){if($("#category-container").length&&"undefined"!=typeof special_tag_two&&"undefined"!=typeof tag_two_post_count){var b;special_tag_two=special_tag_two.toLowerCase(),$.get(ghost.url.api("posts",{filter:"tags:["+special_tag_two+"]",include:"tags",limit:tag_one_post_count})).done(function(a){b=a.posts;var c="";if(b.length>0){for(c='<div class="category-wrap"><h2 class="h4 category-name"><span>'+special_tag_two+'</span></h2><div class="row default-layout">',i=0;i<b.length;i++)if(i<tag_two_post_count){var d=b[i].title,e=b[i].url,f=b[i].image,g=b[i].tags,h=themeApp.formatDate(b[i].published_at),k=$(b[i].content).text().replace("<code>","&lt;code&gt;").replace("<","&lt;").replace(">","&gt;"),k=k.split(/\s+/).slice(0,50).join(" "),l="",m="",n="",o="";for(j=0;j<g.length;j++){var p=g[j].name,q=g[j].slug;o+='<a href="/tag/'+q+'/">'+p+"</a>"}null!==f?(l='<div class="featured-media"><a href="'+e+'"><div class="image-container" style="background-image: url('+f+');"></div></a><div class="tag-list">'+o+"</div></div>",m='<div class="featured-media"><a href="'+e+'"><div class="image-container" style="background-image: url('+f+');"></div></a></div>'):n="no-image",c+=0==i?'<article class="col-sm-6 post-wrap">'+l+'<h2 class="title h3"><a href="'+e+'">'+d+'</a></h2><div class="post-meta"><span class="date"><i class="fa fa-calendar-o"></i>&nbsp;'+h+'</span><span class="comment"><i class="fa fa-comment-o"></i><a href="'+e+'#disqus_thread">0 Comments</a></span></div><div class="post-entry">'+k+'</div><a class="permalink" href="'+e+'">Read More...</a></article>':'<article class="col-sm-6 post-wrap small-entry '+n+' clearfix">'+m+'<div class="post-details"><div class="tag-list">'+o+'</div><h2 class="title h5"><a href="'+e+'">'+d+'</a></h2><div class="post-meta"><span class="date"><i class="fa fa-calendar-o"></i>&nbsp;'+h+'</span><span class="comment"><i class="fa fa-comment-o"></i><a href="'+e+'#disqus_thread">0 Comments</a></span></div></div></article>'}c+="</div></div>",$("#category-container").append(c),themeApp.commentCount()}}).fail(function(a){console.log(a)})}},recentPosts:function(a){var b,c=$(".recent-post");c.length&&"undefined"!=typeof recent_post_count&&$.get(ghost.url.api("posts",{limit:recent_post_count})).done(function(a){b=a.posts;var d="";if(b.length>0)for(i=0;i<b.length;i++){var e=b[i].url,f=b[i].title,g=themeApp.formatDate(b[i].published_at),h=b[i].feature_image;if(null!==h)var j='<div class="post-thumb pull-left" style="background-image:url('+h+')"></div>',k="have-image";else var j='<div class="post-thumb pull-left" style="background-image:url(/content/images/2016/12/ippon_bkr_90.png);"></div>',k="";d+='<div class="recent-single-post clearfix '+k+'"><a href="'+e+'" class="post-title">'+j+'<div class="post-info"><h4 class="h5">'+f+'</h4><div class="date"><i class="fa fa-calendar-o"></i>'+g+"</div></div></a></div>"}c.append(d)}).fail(function(a){console.log(a)})},formatDate:function(a){var b=new Date(a),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=c[b.getMonth()],e=b.getDate(),f=b.getFullYear(),g=d+" "+e+", "+f;return g},featuredMedia:function(){$(".full-post").length>0&&$(".full-post").each(function(){var a=$(this),b=$(this).find("featured"),c=b.find("iframe"),d=a.find(".featured-media");d.find(".image-container").hide(),c.length>0?(d.find(".image-container").remove(),d.addClass("has-iframe"),d.prepend(c)):(d.addClass("no-iframe"),a.find(".featured-media").find(".image-container").show())})},responsiveIframe:function(){$(".full-post").fitVids()},commentCount:function(){var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src="http://"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)},highlighter:function(){$("pre code").each(function(a,b){hljs.highlightBlock(b)})},facebook:function(){if($(".fb").length){var a="<div id=\"fb-root\"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4\";fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script>",b='<div class="fb-page" data-href="'+facebook_page_url+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore">Facebook</div></div>';$("body").append(a),$(".fb").append(b),$(".fb").fitVids()}},searchPopup:function(){if($("#search-open").on("click",function(a){a.preventDefault(),$(".search-popup").addClass("visible"),$("#search-input").css("visibility","visible").focus()}),$(".close-button").on("click",function(a){a.preventDefault(),$(".search-popup").removeClass("visible"),$("#search-input").css("visibility","hidden")}),$("#popup-outer").on("click",function(a){"popup-outer"===a.target.id&&($(".search-popup").removeClass("visible"),$("#search-input").css("visibility","hidden"))}),"/search/"==window.location.pathname&&""!=window.location.search){var a=JSON.parse(sessionStorage.getItem("search"));$("#search-page-result ul").append($.map(a,function(a,b){var c=null==a.image?"../../assets/images/ippon-bkr.png":a.image;return"<li><img src='"+c+"' alt='' /><a href='"+a.link+"'>"+a.title+"</a></li>"}).join(" "))}},backToTop:function(){$(window).scroll(function(){$(this).scrollTop()>100?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()}),$("#back-to-top").on("click",function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},1e3),!1})},init:function(){themeApp.setNavbar(),themeApp.latestSlider(),themeApp.specialPostsSetOne(),themeApp.specialPostsSetTwo(),themeApp.recentPosts(),themeApp.facebook(),themeApp.featuredMedia(),themeApp.responsiveIframe(),themeApp.highlighter(),themeApp.searchPopup(),themeApp.backToTop()}};$(document).ready(function(){themeApp.init()});